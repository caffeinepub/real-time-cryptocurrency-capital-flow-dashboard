{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "App para visualizar e analisar posições de futuros da Binance (USD‑M e COIN‑M) usando API key somente leitura, com lista unificada e dicas automáticas de gestão/riscos.",
  "architectural_notes": [
    "Usar API Binance Futures USD‑M (/fapi/v3/positionRisk) e COIN‑M (/dapi/v1/positionRisk) para buscar posições.",
    "API key configurada como somente leitura; foco inicial em visualização/análise (sem execução de ordens)."
  ],
  "known_issues": [
    "Dashboard/aba de posições ainda não realiza leitura real de dados da Binance (integração de leitura pendente)."
  ],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-implement-frontend-react-query-hooks-to-fetch-the-unified-futures-positions-from-the-backend-with-a-manual-refresh-action-and-a-safe-polling-interval-suitable-for-monitoring-e-g-periodic-refetch-while-the-futures-dashboard-is-visible",
      "title": "Implement frontend React Query hooks to fetch the unified futures positions from the backend, with a manual “Refresh” action and a safe polling interval suitable for monitoring (e.g., periodic refetch while the Futures Dashboard is visible).",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-current-placeholder-open-positions-panel-in-frontend-src-components-futuresdashboard-tsx-with-a-unified-positions-table-list-view-that-displays-key-position-fields-for-both-usd-m-and-coin-m-in-one-list-at-minimum-symbol-side-position-amount-entry-price-mark-price-unrealized-pnl-leverage-liquidation-price-when-available-and-market-type",
      "title": "Replace the current placeholder “Open Positions” panel in `frontend/src/components/FuturesDashboard.tsx` with a unified positions table/list view that displays key position fields for both USD-M and COIN-M in one list (at minimum: symbol, side/position amount, entry price, mark price, unrealized PnL, leverage, liquidation price when available, and market type).",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-add-automated-position-analysis-and-simple-management-tips-in-the-frontend-based-on-the-unified-position-data-including-at-least-high-unrealized-pnl-suggesting-taking-partial-profit-liquidation-price-proximity-warnings-large-distance-between-entry-price-and-mark-price-and-mark-price-movement-volatility-hints-display-these-tips-per-position-and-optionally-a-small-summary",
      "title": "Add automated position analysis and simple management tips in the frontend based on the unified position data, including at least: high unrealized PnL suggesting taking partial profit, liquidation price proximity warnings, large distance between entry price and mark price, and mark price movement/volatility hints. Display these tips per-position (and optionally a small summary).",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Implementar leitura de posições Binance Futures USD‑M via endpoint /fapi/v3/positionRisk e exibir no app",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Implementar leitura de posições Binance Futures COIN‑M via endpoint /dapi/v1/positionRisk e exibir no app",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Unificar posições USD‑M e COIN‑M em uma única lista/visualização no dashboard",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Adicionar análises automáticas das posições e dicas (ex.: PnL alto, risco de liquidação próximo, distância do preço de entrada, variação do mark price)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Add backend canister support to read Binance Futures open positions for both USD-M and COIN-M using the user’s stored read-only Binance API credentials, by calling the Binance endpoints `/fapi/v3/positionRisk` (USD-M) and `/dapi/v1/positionRisk` (COIN-M) via HTTPS outcalls.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Expose a single backend API that returns a unified, normalized list of open futures positions by merging USD-M and COIN-M positionRisk responses into one common position type (including which market each position came from).",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Enable unified Binance Futures (USD-M + COIN-M) positions reading and automated position insights",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}